"use strict";(()=>{var $o=Object.create;var Po=Object.defineProperty;var qo=Object.getOwnPropertyDescriptor;var Zo=Object.getOwnPropertyNames;var Jo=Object.getPrototypeOf,Yo=Object.prototype.hasOwnProperty;var ro=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var X=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var io=(o,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Zo(e))!Yo.call(o,s)&&s!==t&&Po(o,s,{get:()=>e[s],enumerable:!(i=qo(e,s))||i.enumerable});return o},yo=(o,e,t)=>(io(o,e,"default"),t&&io(t,e,"default")),n=(o,e,t)=>(t=o!=null?$o(Jo(o)):{},io(e||!o||!o.__esModule?Po(t,"default",{value:o,enumerable:!0}):t,o));var bo=X((le,Co)=>{"use strict";Co.exports=window.SDPPPInternal});var v=X((ve,Io)=>{"use strict";Io.exports=window.React});var l=X((we,xo)=>{"use strict";xo.exports=window.ReactJSXRuntime});var Ko=X((mt,Xo)=>{"use strict";Xo.exports=window.ReactDOMClient});var r={};yo(r,n(bo(),1));var so={"SDPPP Get Document":"Get Document","SDPPP Get Layer By ID":"Get Layer","SDPPP Get Linked Layers":"Get Linked Layers","SDPPP Get Layers In Group":"Get Layers In Group","SDPPP Get Text From Layer":"Get Text From Layer","SDPPP Parse Layer Info":"Parse Layer Info","SDPPP Get Selection":"Get Selection","SDPPP Get Image From Photoshop":"Get Image From Photoshop","SDPPP Send Images To Photoshop":"Send Images To Photoshop","SDPPP Select Layer And Run PS Action":"Select Layer And Run PS Action"};var ao={"### Active Document ###":"### \u5F53\u524D\u6587\u6863 ###","### The Canvas ###":"### \u6574\u4E2A\u753B\u5E03 ###","### New Layer ###":"### \u65B0\u56FE\u5C42 ###","### Selected Layer ###":"### \u6240\u9009\u56FE\u5C42 ###","### Keep Size or Fit Canvas ###":"### \u4FDD\u6301\u5C3A\u5BF8\u6216\u9002\u5E94\u753B\u5E03 ###",_SDPPP_PSD_:"_SDPPP_PSD_","Save and run immediately":"\u4FDD\u5B58\u5E76\u7ACB\u5373\u6267\u884C",Close:"\u5173\u95ED","Select a {0}":"\u9009\u62E9\u4E00\u4E2A {0}","How to use .ccx file":"\u5982\u4F55\u4F7F\u7528 .ccx \u6587\u4EF6","1. If you have installed Adobe Creative Cloud":"1. \u5982\u679C\u4F60\u5DF2\u7ECF\u5B89\u88C5\u4E86 Adobe Creative Cloud","Just double click the .ccx file, it will install the plugin automatically":"\u53CC\u51FB .ccx \u6587\u4EF6\uFF0C\u5B83\u4F1A\u81EA\u52A8\u5B89\u88C5","2. If you don't have Adobe Creative Cloud":"2. \u5982\u679C\u4F60\u6CA1\u6709 Adobe Creative Cloud","Rename .ccx to .zip and extract it into ":"\u5C06 .ccx \u91CD\u547D\u540D\u4E3A .zip \u5E76\u89E3\u538B\u5230",or:"\u6216","Photoshop directory":"Photoshop \u5B89\u88C5\u76EE\u5F55","Cannot connect multiple different document widgets with same value":"\u4E0D\u80FD\u8FDE\u63A5\u591A\u4E2A\u5177\u6709\u76F8\u540C\u503C\u7684\u6587\u6863\u5C0F\u90E8\u4EF6","You can only have one SDPPP Settings node in a workflow":"\u4E00\u4E2A\u5DE5\u4F5C\u6D41\u4E2D\u53EA\u80FD\u6709\u4E00\u4E2A SDPPP Settings \u8282\u70B9","convert widget {0} failed:":"\u63A7\u4EF6{0}\u8F6C\u6362\u5931\u8D25\uFF1A","hidden webview load failed: {0}, please select a browser page to continue":"\u5185\u7F6E webview \u52A0\u8F7D\u5931\u8D25: {0}\uFF0C\u8BF7\u9009\u62E9\u4E00\u4E2A\u6D4F\u89C8\u5668\u9875\u9762\u7EE7\u7EED","SDPPP Get Document":"\u83B7\u53D6\u6587\u6863(GetDocument)","SDPPP Get Layer By ID":"\u83B7\u53D6\u56FE\u5C42(GetLayer)","SDPPP Get Linked Layers":"\u83B7\u53D6\u94FE\u63A5\u56FE\u5C42(GetLinkedLayers)","SDPPP Get Layers In Group":"\u83B7\u53D6\u7EC4\u4E2D\u56FE\u5C42(GetLayersInGroup)","SDPPP Get Text From Layer":"\u83B7\u53D6\u56FE\u5C42\u6587\u672C(GetTextFromLayer)","SDPPP Parse Layer Info":"\u89E3\u6790\u56FE\u5C42\u4FE1\u606F(ParseLayerInfo)","SDPPP Get Selection":"\u83B7\u53D6\u9009\u533A(GetSelection)","SDPPP Get Image From Photoshop":"\u4ECEPS\u83B7\u53D6\u56FE\u50CF(GetImageFromPhotoshop)","SDPPP Send Images To Photoshop":"\u53D1\u9001\u56FE\u50CF\u5230PS(SendImagesToPhotoshop)","SDPPP Send Text To Layer":"\u53D1\u9001\u6587\u672C\u5230\u56FE\u5C42(SendTextToLayer)","SDPPP Select Layer And Run PS Action":"\u9009\u4E2D\u56FE\u5C42\u5E76\u8FD0\u884CPS Action(RunPhotoshopAction)","download PS plugin (.ccx)":"\u4E0B\u8F7D Photoshop \u63D2\u4EF6 (.ccx)","current ComfyUI pageid: {0}":"\u5F53\u524D ComfyUI \u9875\u9762ID: {0}","current A1111 pageid: {0}":"\u5F53\u524D A1111 \u9875\u9762ID: {0}","document linked":"\u6587\u6863\u53C2\u6570\u5DF2\u94FE\u63A5","layer linked":"\u56FE\u5C42\u53C2\u6570\u5DF2\u94FE\u63A5","bound linked":"\u8303\u56F4\u53C2\u6570\u5DF2\u94FE\u63A5",document:"\u6587\u6863",Document:"\u6587\u6863",DOCUMENT:"\u6587\u6863",document_name:"\u6587\u6863\u540D\u5B57id",layer_nameid:"\u56FE\u5C42\u540D\u5B57id",layer_name:"\u56FE\u5C42\u540D\u5B57",layer_info:"\u56FE\u5C42\u4FE1\u606F",bound_top:"\u8303\u56F4\u4E0A\u8FB9\u8DDD",bound_left:"\u8303\u56F4\u5DE6\u8FB9\u8DDD",bound_width:"\u8303\u56F4\u5BBD\u5EA6",bound_height:"\u8303\u56F4\u9AD8\u5EA6",center_x:"\u4E2D\u5FC3\u70B9x",center_y:"\u4E2D\u5FC3\u70B9y",opacity:"\u900F\u660E\u5EA6",layer:"\u56FE\u5C42",layer_or_group:"\u56FE\u5C42(\u6216\u7EC4)",Layer_or_group:"\u56FE\u5C42(\u6216\u7EC4)",bound:"\u8303\u56F4",bounds:"\u8303\u56F4","bounds [optional]":"\u8303\u56F4[\u53EF\u9009]",boundary:"\u8303\u56F4",Boundary:"\u8303\u56F4",canvas_boundary:"\u753B\u5E03\u8303\u56F4",canvas_bound:"\u753B\u5E03\u8303\u56F4",layer_boundary:"\u56FE\u5C42\u8303\u56F4",layer_bound:"\u56FE\u5C42\u8303\u56F4","Photoshop Disconnected!":"Photoshop \u672A\u8FDE\u63A5\uFF01",rgb_out:"RGB\u8F93\u51FA",alpha_out:"Alpha\u8F93\u51FA",images:"\u56FE\u50CF",text:"\u6587\u672C",ID_mode:"\u7CBE\u786EID\u6A21\u5F0F",name_mode:"\u540D\u5B57\u5339\u914D\u6A21\u5F0F",select:"\u9009\u62E9","document boundary":"\u6587\u6863\u8303\u56F4","layer boundary":"\u56FE\u5C42\u8303\u56F4","selection boundary":"\u9009\u4E2D\u8303\u56F4","save .psd to this workflow":"\u4FDD\u5B58.psd\u5230\u8FD9\u4E2A\u5DE5\u4F5C\u6D41","extract saved .psd to Photoshop":"\u63D0\u53D6\u4FDD\u5B58\u7684.psd\u5230Photoshop","sample .psd":"\u793A\u4F8B.psd",mask:"\u906E\u7F69",name:"\u540D\u79F0",quality:"\u56FE\u50CF\u8D28\u91CF",action_set:"\u52A8\u4F5C\u7EC4",action:"\u52A8\u4F5C",Runner:"\u8FD0\u884C\u8F7D\u4F53","PS Webview":"PS \u5185\u7F6E\u7F51\u9875","Browser {0}":"\u6D4F\u89C8\u5668\u9875\u9762 {0}",timeout:"\u8D85\u65F6","Loading...":"\u52A0\u8F7D\u4E2D...","--multi-user Not Login!":"--multi-user\u5DF2\u6FC0\u6D3B\uFF0C\u4F46\u672A\u767B\u5F55\uFF01",Logout:"\u767B\u51FA","User: ":"\u7528\u6237: ",connect:"\u8FDE\u63A5",connected:"\u5DF2\u8FDE\u63A5",disconnect:"\u65AD\u5F00",disconnected:"\u5DF2\u65AD\u5F00\u8FDE\u63A5","reconnecting...":"\u91CD\u8FDE\u4E2D...",connecting:"\u8FDE\u63A5\u4E2D",webpages:"\u7F51\u9875\u5217\u8868",workflows:"\u5DE5\u4F5C\u6D41",workflow:"\u5DE5\u4F5C\u6D41","auto run page [{0}] after change..":"\u66F4\u6539\u540E\u81EA\u52A8\u8FD0\u884C\u9875\u9762 {0}..","auto run workflow [{0}] after change..":"\u66F4\u6539\u540E\u81EA\u52A8\u8FD0\u884C\u5DE5\u4F5C\u6D41 {0}..","auto run workflow after change..":"\u66F4\u6539\u540E\u81EA\u52A8\u8FD0\u884C\u5DE5\u4F5C\u6D41..",selection_only:"\u4EC5\u9009\u533A","Queue:":"\u961F\u5217:","Set As:":"\u8BBE\u7F6E\u4E3A:","Error {0}... please contact me via Discord/Github":"\u51FA\u73B0\u9519\u8BEF {0}...\uFF0C\u8BF7\u901A\u8FC7 QQ/Github \u8054\u7CFB\u6211","Webview initialize failed. Please report to me via Discord/Github with your ComfyURL, Operate System":"Webview \u521D\u59CB\u5316\u5931\u8D25\uFF0C\u8BF7\u901A\u8FC7 QQ/Github \u8054\u7CFB\u6211\u5E76\u9644\u4E0A\u4F60\u7684Comfy\u5730\u5740\u3001\u64CD\u4F5C\u7CFB\u7EDF","ComfyUI with --multi-user is only available for sponsors":'\u5E26"--multi-user"\u7684ComfyUI\u4EC5\u5BF9\u8D5E\u52A9\u8005\u5F00\u653E',"Workflow Runner is loading...":"\u8FD0\u884C\u8F7D\u4F53\u5C1A\u5728\u52A0\u8F7D...","(Page ID: {0})Queue: {1}":"(\u9875\u9762ID: {0}) \u961F\u5217\u957F\u5EA6 {1}","no suitable node to control in this workflow":"\u8FD9\u4E2A\u5DE5\u4F5C\u6D41\u4E2D\u6CA1\u6709\u80FD\u63A7\u5236\u7684\u8282\u70B9",Save:"\u4FDD\u5B58",Edit:"\u7F16\u8F91","Edit in ComfyUI":"\u5728 ComfyUI \u4E2D\u7F16\u8F91","using browser page [{0}] for workflow running":"\u6B63\u63A5\u7BA1\u7F51\u9875 [{0}] \u8FD0\u884C\u5DE5\u4F5C\u6D41","workflow running by hidden webview":"\u5DE5\u4F5C\u6D41\u5728\u9690\u85CF\u7684webview\u4E2D\u8FD0\u884C","Lock Image":"\u9501\u5B9A\u56FE\u50CF","Unlock Image":"\u89E3\u9501\u56FE\u50CF","search...":"\u641C\u7D22...","disabled when running in browser page":"\u63A5\u7BA1\u7F51\u9875\u65F6\u4E0D\u53EF\u7528","only supported in Photoshop":"\u4EC5\u5728 Photoshop \u4E2D\u652F\u6301",Login:"\u767B\u5F55","Invitation Code":"\u9080\u8BF7\u7801",Username:"\u7528\u6237\u540D",Password:"\u5BC6\u7801","Please input invitation code":"\u8BF7\u8F93\u5165\u9080\u8BF7\u7801","Please input username":"\u8BF7\u8F93\u5165\u7528\u6237\u540D","Please input password":"\u8BF7\u8F93\u5165\u5BC6\u7801","Open more ComfyUI pages to see more options here":"\u6253\u5F00\u66F4\u591A ComfyUI \u9875\u9762\u4EE5\u67E5\u770B\u66F4\u591A\u9009\u9879","Comfy multi-user: ":"Comfy \u591A\u7528\u6237: ","Not Login":"\u672A\u767B\u5F55","Comfy API-Key: ":"Comfy API-Key: ","Login/Auth":"\u767B\u5F55/\u8BA4\u8BC1","Logged in by email/password":"\u5DF2\u901A\u8FC7\u90AE\u7BB1/\u5BC6\u7801\u767B\u5F55","Set API Key":"\u8BBE\u7F6E API Key","Please input API key (will reload Runner)":"\u8BF7\u8F93\u5165 API Key (\u4F1A\u91CD\u542F\u8FD0\u884C\u8F7D\u4F53)","### Active Workflow ###":"### \u5F53\u524D\u5DE5\u4F5C\u6D41 ###","### Example SDXL ###":"### \u793A\u4F8BSDXL\u5DE5\u4F5C\u6D41 ###","Open ComfyUI in the browser to see more options":"\u5728\u6D4F\u89C8\u5668\u4E2D\u6253\u5F00 ComfyUI \u4EE5\u5F97\u5230\u66F4\u591A\u9009\u9879","Webview load timeout, please switch to a different runner":"Webview \u52A0\u8F7D\u8D85\u65F6\uFF0C\u8BF7\u5207\u6362\u5230\u5176\u4ED6\u8FD0\u884C\u8F7D\u4F53","Save workflow to ComfyUI":"\u4FDD\u5B58\u5DE5\u4F5C\u6D41\u5230 ComfyUI","Reload workflow":"\u91CD\u65B0\u52A0\u8F7D\u5DE5\u4F5C\u6D41","Stop and cancel all":"\u505C\u6B62\u5E76\u53D6\u6D88\u6240\u6709","Start auto running after change":"\u66F4\u6539\u540E\u81EA\u52A8\u8FD0\u884C","Stop auto run":"\u505C\u6B62\u81EA\u52A8\u8FD0\u884C","Run workflow":"\u8FD0\u884C\u5DE5\u4F5C\u6D41","Run workflow xN":"\u8FD0\u884C\u5DE5\u4F5C\u6D41N\u6B21","Back to workflow list":"\u8FD4\u56DE\u5DE5\u4F5C\u6D41\u5217\u8868","502: Maybe the server is not running":"502: \u670D\u52A1\u5668\u53EF\u80FD\u672A\u8FD0\u884C","404: Maybe SDPPP is not installed or failed to run in ComfyUI":"404: \u53EF\u80FD\u5728ComfyUI\u4E2DSDPPP\u672A\u5B89\u88C5\u6216\u8FD0\u884C\u5931\u8D25","{0}. reconnecting...":"{0}. \u91CD\u8FDE\u4E2D...","disconnected to {0} failed {1}":"\u65AD\u5F00\u8FDE\u63A5 {0} \u9519\u8BEF {1}","version mismatch, please reinstall PS plugin":"\u7248\u672C\u4E0D\u5339\u914D\uFF0C\u8BF7\u91CD\u65B0\u5B89\u88C5 PS \u63D2\u4EF6","instance type not recognized":"\u672A\u8BC6\u522B\u7684\u8F6F\u4EF6\u7C7B\u578B","Error: {0}":"\u9519\u8BEF: {0}","Verification Error":"\u9A8C\u8BC1\u9519\u8BEF","document {0} not found":"\u627E\u4E0D\u5230\u6587\u6863: {0}",'only layer kind "TEXT" is supported, invalid layer: {0}':"\u4E0D\u652F\u6301\u975E\u6587\u672C\u56FE\u5C42: {0}","create layer failed":"\u521B\u5EFA\u56FE\u5C42\u5931\u8D25","layer not found {0}":"\u627E\u4E0D\u5230\u56FE\u5C42: {0}","no linked layer for {0}":"\u6CA1\u6709\u94FE\u63A5\u56FE\u5C42: {0}","layer {0} is not a group":"\u56FE\u5C42 {0} \u4E0D\u662F\u4E00\u4E2A\u7EC4","no layer in group {0}":"\u7EC4 {0} \u4E2D\u6CA1\u6709\u56FE\u5C42","layer not found: {0}":"\u627E\u4E0D\u5230\u56FE\u5C42: {0}","No upload_name":"\u4E0A\u4F20\u63A5\u53E3\u8FD4\u56DE\u4E86\u5931\u8D25","get pixel of {0} failed":"\u83B7\u53D6\u50CF\u7D20\u5931\u8D25: {0}","merge group failed":"\u5408\u5E76\u7EC4\u5931\u8D25","invalid name: {0}":"\u975E\u6CD5\u7684\u540D\u79F0: {0}","get_layer_info: layer_identify required":"get_layer_info: \u9700\u8981 layer_identify","invalid action: {0}":"\u65E0\u6548\u7684\u64CD\u4F5C: {0}","create document failed":"\u521B\u5EFA\u6587\u6863\u5931\u8D25","create document for preview":"\u521B\u5EFA\u9884\u89C8\u6587\u6863","resize document for preview":"\u8C03\u6574\u9884\u89C8\u6587\u6863\u5C3A\u5BF8","no first related layer in {0}":"\u7EC4 {0} \u4E2D\u6CA1\u6709\u7B2C\u4E00\u4E2A\u76F8\u5173\u56FE\u5C42","imageDataError: data length is not multiple of width * height":"\u56FE\u50CF\u6570\u636E\u6709\u8BEF: \u6570\u636E\u957F\u5EA6\u4E0D\u662F\u5BBD\u5EA6 * \u9AD8\u5EA6\u7684\u500D\u6570","imageDataError: originComponents must be 1 or 3":"\u56FE\u50CF\u6570\u636E\u6709\u8BEF: originComponents \u5FC5\u987B\u662F 1 \u6216 3","unexpected connection lost, please try to reconnect":"\u610F\u5916\u65AD\u5F00\u8FDE\u63A5\uFF0C\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u8FDE\u63A5","Workflow list is empty, please save a workflow by Comfy's lastest UI":"\u5DE5\u4F5C\u6D41\u5217\u8868\u4E3A\u7A7A\uFF0C\u8BF7\u5728Comfy\u7684\u65B0\u7248UI\u4E2D\u4FDD\u5B58\u4E00\u4E2A\u5DE5\u4F5C\u6D41","No opened ComfyUI pages":"\u6CA1\u6709\u5DF2\u6253\u5F00\u7684ComfyUI\u9875\u9762","comfyAPI is not initialized, maybe comfyUI is too old":"\u65E0\u6CD5\u83B7\u53D6 ComfyAPI\uFF0C\u53EF\u80FD ComfyUI \u7248\u672C\u592A\u65E7","unsupported channel counts: {0}":"\u4E0D\u652F\u6301\u7684\u901A\u9053\u6570: {0}","Timeout, Maybe the URL is wrong":"\u8D85\u65F6\uFF0C\u53EF\u80FD comfy\u5730\u5740 \u586B\u5199\u9519\u8BEF","Workflow list loading failed: {0}":"\u5DE5\u4F5C\u6D41\u5217\u8868\u52A0\u8F7D\u5931\u8D25: {0}","Please register a user in ComfyUI":"\u8BF7\u5728 ComfyUI \u4E2D\u6CE8\u518C\u4E00\u4E2A\u7528\u6237","GetSelection need Photoshop version 25+":"GetSelection \u9700\u8981 Photoshop 25+ \u7248\u672C","Action {0} not found":"Action {0} \u672A\u627E\u5230","Action set {0} not found":"ActionSet {0} \u672A\u627E\u5230","{0} cannot be used in Photoshop Action Node":"{0} \u4E0D\u80FD\u5728 Photoshop Action \u8282\u70B9\u4E2D\u4F7F\u7528","Group layers":"\u56FE\u5C42\u7EC4","Show All Groups":"\u663E\u793A\u6240\u6709\u7EC4","create document for sent images":"\u7ED9\u53D1\u9001\u7684\u56FE\u7247\u521B\u5EFA\u6587\u6863","show sent images":"\u663E\u793A\u53D1\u9001\u7684\u56FE\u7247","fallback show sent images":"\u53D6\u6D88\u663E\u793A\u53D1\u9001\u7684\u56FE\u7247","get content of layer {0}":"\u83B7\u53D6\u56FE\u5C42 {0} \u7684\u5185\u5BB9","fallback get content of layer {0}":"\u53D6\u6D88\u83B7\u53D6\u56FE\u5C42 {0} \u7684\u5185\u5BB9","get layer info":"\u83B7\u53D6\u56FE\u5C42\u4FE1\u606F","sdppp extract PSD":"sdppp \u5BFC\u5165 PSD","sdppp get PSD":"sdppp \u83B7\u53D6 PSD","set text to layer":"\u8BBE\u7F6E\u56FE\u5C42\u7684\u6587\u672C","run Photoshop Action":"sdppp \u8FD0\u884C Photoshop Action","select layer":"sdppp \u9009\u4E2D\u56FE\u5C42","{0} wants to extract a PSD file to Photoshop, are you sure?":"{0} \u60F3\u8981\u91CA\u653E\u4E00\u4E2A.psd\u6587\u4EF6\u5230Photoshop\uFF0C\u786E\u5B9A\u5417\uFF1F","should sdppp refuse extracting PSD to Photoshop in this session anymore?":"\u662F\u5426\u8981\u8BA9 sdppp \u62D2\u7EDD\u672C\u6B21PS\u4F1A\u8BDD\u518D\u6B21\u63A5\u53D7.psd\u91CA\u653E\u8BF7\u6C42\uFF1F","Wide Mode":"\u5BBD\u5C4F\u6A21\u5F0F","Quick Set":"\u5FEB\u901F\u8BBE\u7F6E","Selected Layer":"\u9009\u4E2D\u56FE\u5C42","Selected Layer (invert)":"\u9009\u4E2D\u56FE\u5C42(\u53CD\u5411)",Canvas:"\u753B\u5E03",Selection:"\u9009\u533A",Manual:"\u624B\u52A8\u6A21\u5F0F",Auto:"\u81EA\u52A8\u6A21\u5F0F","This plugin is based on sd-ppp":"\u672C\u63D2\u4EF6\u57FA\u4E8Esd-ppp\u5F00\u53D1","And follows its open source license:":"\u5E76\u9075\u5FAA\u5176\u5F00\u6E90\u534F\u8BAE\uFF1A",Cloud:"\u4E91\u7AEF\u63A8\u8350",Sponsors:"\u8D5E\u52A9","waiting...":"\u865A\u4F4D\u4EE5\u5F85",Links:"\u53CB\u60C5\u94FE\u63A5",Community:"\u793E\u533A","LICENSE:":"\u8BB8\u53EF\u8BC1\uFF1A","Official Site":"\u5B98\u65B9\u7F51\u7AD9",upload:"\u4E0A\u4F20","Simplify Workflow":"\u7B80\u5316\u5DE5\u4F5C\u6D41",Photoshop:"Photoshop","Photoshop plugin settings":"Photoshop \u63D2\u4EF6\u8BBE\u7F6E","Photoshop plugin":"Photoshop \u63D2\u4EF6","SDPPP Settings/Misc":"SDPPP \u8BBE\u7F6E/\u6742\u9879","Sample .PSD for this workflow:":"\u793A\u4F8B.PSD","Download Example .PSD":"\u4E0B\u8F7D\u793A\u4F8B.PSD","Maximum Image Size (px):":"\u6700\u5927\u56FE\u50CF\u5C3A\u5BF8(px)",Download:"\u4E0B\u8F7D",Upload:"\u4E0A\u4F20",Reset:"\u91CD\u7F6E",Refresh:"\u5237\u65B0","Comfy URL (You can copy it to connect ComfyUI in the plugin):":"Comfy\u5730\u5740(\u4F60\u53EF\u4EE5\u590D\u5236\u5B83\u5230\u63D2\u4EF6\u4E2D\u8FDE\u63A5ComfyUI):","use slider for number widget:":"\u6570\u5B57\u63A7\u4EF6\u4F7F\u7528\u6ED1\u5757","Photoshop is not connected":"Photoshop \u672A\u8FDE\u63A5","select...":"\u8BF7\u9009\u62E9","click to edit":"\u70B9\u51FB\u7F16\u8F91","ComfyManager not found, cannot reboot":"Comfy Manager\u672A\u5B89\u88C5\uFF0C\u65E0\u6CD5\u91CD\u542F","Failed to reboot ComfyUI":"\u91CD\u542FComfyUI\u5931\u8D25"};var ko=typeof ro<"u"?ro:void 0,lo="en";typeof navigator<"u"&&navigator.language?lo=navigator.language=="zh-CN"?"zhcn":"en":ko&&(lo=ko("uxp").host.uiLocale.startsWith("zh")?"zhcn":"en");function f(o,...e){let t=lo=="zhcn"?ao[o]:o in so?so[o]:o;if(!t)throw new Error(`i18n key not found: ${o}`);return t.replace(/{(\d+)}/g,function(i,s){return typeof e[s]<"u"?e[s]:i})}function So(o){return o in ao}var Lo=n(v(),1),Do=n(l(),1),D=class extends Lo.default.Component{render(){return(0,Do.jsx)("div",{className:`action-button ${this.props.highlight?"highlight":""}`,onClick:this.props.onClick,children:this.props.children})}};var Mo=n(v(),1),K=n(l(),1),T=class extends Mo.default.Component{render(){let e=this.props.size||1;return(0,K.jsx)("div",{slot:"icon",className:"sdppp-icon",onClick:this.props.onClick,children:(0,K.jsx)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,K.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M13.854 2.146l-2-2a.5.5 0 00-.708 0l-1.5 1.5-8.995 8.995a.499.499 0 00-.143.268L.012 13.39a.495.495 0 00.135.463.5.5 0 00.462.134l2.482-.496a.495.495 0 00.267-.143l8.995-8.995 1.5-1.5a.5.5 0 000-.708zM12 3.293l.793-.793L11.5 1.207 10.707 2 12 3.293zm-2-.586L1.707 11 3 12.293 11.293 4 10 2.707zM1.137 12.863l.17-.849.679.679-.849.17z"})})})}};var Ro=n(v(),1),O=n(l(),1),W=class extends Ro.default.Component{render(){let e=this.props.size||1;return(0,O.jsx)("div",{slot:"icon",className:"sdppp-icon",children:(0,O.jsx)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,O.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6.586 3.504l-1.5-1.5H1v9h12v-7.5H6.586zm.414-1L5.793 1.297a1 1 0 00-.707-.293H.5a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h13a.5.5 0 00.5-.5v-8.5a.5.5 0 00-.5-.5H7z"})})})}};var Ao=n(v(),1),M=n(l(),1),I=class extends Ao.default.Component{render(){let e=this.props.size||1;return(0,M.jsx)("div",{slot:"icon",className:"sdppp-icon",onClick:this.props.onClick,children:(0,M.jsxs)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("path",{fill:"currentColor",d:"M5.5 1A.5.5 0 005 .5H2a.5.5 0 000 1h1.535a6.502 6.502 0 002.383 11.91.5.5 0 10.165-.986A5.502 5.502 0 014.5 2.1V4a.5.5 0 001 0V1.353a.5.5 0 000-.023V1zM7.507 1a.5.5 0 01.576-.41 6.502 6.502 0 012.383 11.91H12a.5.5 0 010 1H9a.5.5 0 01-.5-.5v-3a.5.5 0 011 0v1.9A5.5 5.5 0 007.917 1.576.5.5 0 017.507 1z"}),(0,M.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6.2 9.08L9.068 7 6.2 4.92v4.16zM5 4.214v5.574a.8.8 0 001.212.686l4.445-2.787a.8.8 0 000-1.372L6.212 3.527A.8.8 0 005 4.213z"})]})})}};var zo=n(v(),1),Q=n(l(),1),x=class extends zo.default.Component{render(){let e=this.props.size||1;return(0,Q.jsx)("div",{slot:"icon",className:"sdppp-icon",children:(0,Q.jsx)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Q.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.2 10.88L10.668 7 4.2 3.12v7.76zM3 2.414v9.174a.8.8 0 001.212.686l7.645-4.587a.8.8 0 000-1.372L4.212 1.727A.8.8 0 003 2.413z"})})})}};var m=n(l(),1),$=.6,_={LIST_ITEM:"client-list-item",LIST_ITEM_LEFT:"client-list-item-left",LIST_ITEM_RIGHT:"client-list-item-right",TIPS_ICON:"tips-icon",CHECKED:"checked"},co=({isChecked:o=!1,children:e,rightContent:t,onClick:i})=>(0,m.jsxs)("li",{className:`${_.LIST_ITEM}${o?` ${_.CHECKED}`:""}`,onClick:i,children:[(0,m.jsx)("sp-label",{className:_.LIST_ITEM_LEFT,children:e}),t&&(0,m.jsx)("div",{className:_.LIST_ITEM_RIGHT,children:t})]}),po=({path:o,dirname:e,onDirectorySet:t})=>(0,m.jsxs)(co,{onClick:()=>{if(o==="../"){let s=e||"",c=s.lastIndexOf("/");c===-1||s[c-1]==="/"?t?.(""):t?.(s.slice(0,c))}else t?.(o)},children:[(0,m.jsx)(W,{size:$}),(0,m.jsx)("div",{style:{marginLeft:3},children:o.slice(0,-1).split("/").pop()})]}),Eo=({isChecked:o,onEdit:e,onAutoRun:t,onRun:i})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:_.TIPS_ICON,children:(0,m.jsx)(T,{size:$,onClick:e})}),t&&(0,m.jsx)(D,{highlight:o,onClick:t,children:(0,m.jsx)(I,{size:$})}),(0,m.jsx)(D,{onClick:i,children:(0,m.jsx)(x,{size:$})})]}),No=({isChecked:o,workflow:e,onRun:t,setEditorMode:i})=>{let{setAutoRunning:s,workflowAgentSID:c}=(0,r.useSDPPPContext)(),{openWorkflow:h}=(0,r.useSDPPPComfyCaller)(),p=()=>{i(!0),h(c,e.path)};return(0,m.jsx)(co,{isChecked:o,rightContent:(0,m.jsx)(Eo,{isChecked:o,onEdit:p,onAutoRun:()=>{s(o?null:{type:"workflow",value:e.path})},onRun:()=>t(e.path)}),onClick:p,children:e.error?e.error.replace("sdppp PS side error:",""):e.path.split("/").pop()})},uo=({onRun:o,path:e,title:t,setEditorMode:i})=>{let{openWorkflow:s}=(0,r.useSDPPPComfyCaller)(),{workflowAgentSID:c}=(0,r.useSDPPPContext)(),h=async()=>{e&&await s(c,e),i(!0)};return(0,m.jsx)(co,{rightContent:(0,m.jsx)(Eo,{onEdit:h,onRun:o}),onClick:h,children:t})};var g=n(l(),1),jo=({setEditorMode:o})=>{let{autoRunning:e,workflowAgentSID:t}=(0,r.useSDPPPContext)(),{runWorkflow:i,runPage:s}=(0,r.useSDPPPComfyCaller)(),{workflows:c,workflowsError:h,currentViewingDirectory:p,setCurrentViewingDirectory:w,showingList:u}=(0,r.useSDPPPWorkflowList)(),L=null;return h?(0,g.jsx)("div",{className:"workflow-list",children:(0,g.jsx)("sp-label",{children:h})}):(0,g.jsxs)("div",{className:"workflow-list",children:[(0,g.jsxs)("ul",{className:"client-list",children:[p?(0,g.jsx)(po,{path:"../",dirname:p.slice(0,-1),onDirectorySet:k=>{w(k)}},p):null,u.map(k=>{let S=k.path,eo=c[S],to=e?.value==S;return k.isDir?(0,g.jsx)(po,{path:S,dirname:p.slice(0,-1),onDirectorySet:no=>{w(no)}},S):(0,g.jsx)(No,{setEditorMode:o,isChecked:to,workflow:eo,onRun:async no=>{await i(no)}},S)})]}),(0,g.jsx)("sp-divider",{}),(0,g.jsxs)("ul",{className:"client-list",children:[(0,g.jsx)(uo,{setEditorMode:o,path:"",title:f("### Active Workflow ###"),onRun:async()=>{await s(t)}}),(0,g.jsx)(uo,{setEditorMode:o,path:"sdppp://Sample_SDXL.json",title:f("### Example SDXL ###"),onRun:async()=>{await s(t)}})]}),e?.type=="workflow"?(0,g.jsx)("sp-label",{class:"autorun-desc",children:f("auto run workflow [{0}] after change..",c[e?.value]?.path)}):""]})},fo=jo;var b=n(v(),1);var C=n(v(),1);var Bo=n(v(),1),q=n(l(),1),G=class extends Bo.default.Component{render(){let e=this.props.size||1;return(0,q.jsx)("div",{slot:"icon",className:"sdppp-icon",onClick:this.props.onClick,children:(0,q.jsx)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,q.jsx)("path",{fill:"currentColor",d:"M7.092.5H7a6.5 6.5 0 106.41 7.583.5.5 0 10-.986-.166A5.495 5.495 0 017 12.5a5.5 5.5 0 010-11h.006a5.5 5.5 0 014.894 3H10a.5.5 0 000 1h3a.5.5 0 00.5-.5V2a.5.5 0 00-1 0v1.535A6.495 6.495 0 007.092.5z"})})})}};var To=n(v(),1),R=n(l(),1),U=class extends To.default.Component{render(){return(0,R.jsx)("div",{slot:"icon",className:"sdppp-icon",style:{strokeWidth:1},children:(0,R.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("path",{d:"M11.083 12.25H2.917a1.167 1.167 0 01-1.167-1.167V2.917A1.167 1.167 0 012.917 1.75h6.416l2.917 2.917v6.416a1.167 1.167 0 01-1.167 1.167z"}),(0,R.jsx)("path",{d:"M9.917 12.25V7.583H4.083v4.667M4.083 1.75v2.917H8.75"})]})})}};var Wo=n(v(),1),A=n(l(),1),Z=class extends Wo.default.Component{render(){return(0,A.jsxs)("div",{slot:"icon",className:"sdppp-icon",children:[(0,A.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M5.2 10.88L11.668 7 5.2 3.12v7.76zM4 2.414v9.174a.8.8 0 001.212.686l7.645-4.587a.8.8 0 000-1.372L5.212 1.727A.8.8 0 004 2.413zM1.5 1.6a.6.6 0 01.6.6v9.6a.6.6 0 11-1.2 0V2.2a.6.6 0 01.6-.6z"}),(0,A.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M.963 1.932a.6.6 0 01.805-.268l1 .5a.6.6 0 01-.536 1.073l-1-.5a.6.6 0 01-.269-.805zM3.037 11.132a.6.6 0 01-.269.805l-1 .5a.6.6 0 01-.536-1.073l1-.5a.6.6 0 01.805.268z"})]}),this.props.count]})}};var _o=n(v(),1),z=n(l(),1),H=class extends _o.default.Component{render(){return(0,z.jsx)("div",{slot:"icon",className:"sdppp-icon",style:{strokeWidth:1},children:(0,z.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,z.jsx)("path",{transform:"scale(0.7)",fillRule:"evenodd",clipRule:"evenodd",d:"M14 7A7 7 0 100 7a7 7 0 0014 0zm-6.535 5.738c-.233.23-.389.262-.465.262-.076 0-.232-.032-.465-.262-.238-.234-.497-.623-.737-1.182-.434-1.012-.738-2.433-.79-4.056h3.984c-.052 1.623-.356 3.043-.79 4.056-.24.56-.5.948-.737 1.182zM8.992 6.5H5.008c.052-1.623.356-3.044.79-4.056.24-.56.5-.948.737-1.182C6.768 1.032 6.924 1 7 1c.076 0 .232.032.465.262.238.234.497.623.737 1.182.434 1.012.738 2.433.79 4.056zm1 1c-.065 2.176-.558 4.078-1.282 5.253A6.005 6.005 0 0012.98 7.5H9.992zm2.987-1H9.992c-.065-2.176-.558-4.078-1.282-5.253A6.005 6.005 0 0112.98 6.5zm-8.971 0c.065-2.176.558-4.078 1.282-5.253A6.005 6.005 0 001.02 6.5h2.988zm-2.987 1a6.005 6.005 0 004.27 5.253C4.565 11.578 4.072 9.676 4.007 7.5H1.02z"}),(0,z.jsx)("path",{transform:"scale(0.5) translate(12, 12)",fillRule:"evenodd",clipRule:"evenodd",d:"M13.854 2.146l-2-2a.5.5 0 00-.708 0l-1.5 1.5-8.995 8.995a.499.499 0 00-.143.268L.012 13.39a.495.495 0 00.135.463.5.5 0 00.462.134l2.482-.496a.495.495 0 00.267-.143l8.995-8.995 1.5-1.5a.5.5 0 000-.708zM12 3.293l.793-.793L11.5 1.207 10.707 2 12 3.293zm-2-.586L1.707 11 3 12.293 11.293 4 10 2.707zM1.137 12.863l.17-.849.679.679-.849.17z"})]})})}};var Go=n(v(),1),E=n(l(),1),J=class extends Go.default.Component{render(){return(0,E.jsx)("div",{slot:"icon",className:"sdppp-icon",children:(0,E.jsxs)("svg",{width:this.props.size||20,height:this.props.size||20,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.jsx)("path",{d:"M11.7879 2.2121C12.0732 2.49737 12.0732 2.96723 11.7879 3.2525L3.2525 11.7879C2.96723 12.0732 2.49737 12.0732 2.2121 11.7879C1.92684 11.5026 1.92684 11.0328 2.2121 10.7475L10.7475 2.2121C11.0328 1.92684 11.5026 1.92684 11.7879 2.2121Z",fill:"currentColor"}),(0,E.jsx)("path",{d:"M2.2121 2.2121C2.49737 1.92684 2.96723 1.92684 3.2525 2.2121L11.7879 10.7475C12.0732 11.0328 12.0732 11.5026 11.7879 11.7879C11.5026 12.0732 11.0328 12.0732 10.7475 11.7879L2.2121 3.2525C1.92684 2.96723 1.92684 2.49737 2.2121 2.2121Z",fill:"currentColor"})]})})}};var Uo=n(v(),1),Y=n(l(),1),j=class extends Uo.default.Component{render(){return(0,Y.jsx)("div",{slot:"icon",className:"sdppp-icon",children:(0,Y.jsx)("svg",{width:this.props.size||20,height:this.props.size||20,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Y.jsx)("path",{d:"M1 1.504a.5.5 0 01.5-.5h11a.5.5 0 01.5.5v11a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11z",fill:"currentColor"})})})}};var Ho=n(v(),1),N=n(l(),1),F=class extends Ho.default.Component{render(){return(0,N.jsx)("div",{slot:"icon",className:"sdppp-icon",children:(0,N.jsxs)("svg",{width:this.props.size||20,height:this.props.size||20,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,N.jsx)("path",{d:"M2.35 10.95L3.05 11.65L11.65 3.05L10.95 2.35L2.35 10.95Z",fill:"currentColor"}),(0,N.jsx)("path",{d:"M7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7C14 10.866 10.866 14 7 14ZM7 13C10.3137 13 13 10.3137 13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13Z",fill:"currentColor"})]})})}};var a=n(l(),1);var oe=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t}=(0,r.useSDPPPContext)(),{saveWorkflow:i,reopenWorkflow:s}=(0,r.useSDPPPComfyCaller)(),c=(0,C.useCallback)(async()=>{await i(t)},[i,t]);return(0,a.jsx)("sp-action-button",{onClick:c,onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(U,{})})};var ee=({onMouseEnter:o,onMouseLeave:e})=>{let{interrupt:t}=(0,r.useSDPPPComfyCaller)(),{clearQueue:i}=(0,r.useSDPPPComfyCaller)(),s=(0,C.useCallback)(async()=>{await i(),await t()},[i,t]);return(0,a.jsx)("sp-action-button",{onClick:s,onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(F,{})})},te=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t}=(0,r.useSDPPPContext)(),{reopenWorkflow:i}=(0,r.useSDPPPComfyCaller)(),s=(0,C.useCallback)(()=>{i(t)},[i,t]);return(0,a.jsx)("sp-action-button",{onClick:s,onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(G,{})})};var ne=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t,autoRunning:i,setAutoRunning:s}=(0,r.useSDPPPContext)();return(0,a.jsx)("sp-action-button",{class:i?.value==t?"highlight":"",onClick:()=>{i?.value==t?s(null):s({type:"page",value:t})},onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(I,{})})},ie=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t,webviewAgentSID:i,toggleWebviewDialog:s}=(0,r.useSDPPPContext)(),c=t==i;return(0,a.jsx)("sp-action-button",{...c?{}:{disabled:!0},onClick:()=>{s()},title:c?f("Edit in ComfyUI"):f("disabled when running in browser page"),onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(H,{})})},re=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t}=(0,r.useSDPPPContext)(),{runPage:i}=(0,r.useSDPPPComfyCaller)();return(0,a.jsx)("sp-action-button",{onClick:()=>{i(t)},onMouseEnter:o,onMouseLeave:e,children:(0,a.jsx)(x,{})})},se=({onMouseEnter:o,onMouseLeave:e})=>{let{workflowAgentSID:t}=(0,r.useSDPPPContext)(),{runPage:i}=(0,r.useSDPPPComfyCaller)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"action-button",onClick:()=>{i(t,2)},onMouseEnter:o,onMouseLeave:e,children:"x2"}),(0,a.jsx)("div",{className:"action-button",onClick:()=>{i(t,5)},onMouseEnter:o,onMouseLeave:e,children:"x5"}),(0,a.jsx)("div",{className:"action-button",onClick:()=>{i(t,9)},onMouseEnter:o,onMouseLeave:e,children:"x9"})]})};function mo({WorkflowEditPhotoshop:o}){let{workflowAgentSID:e,autoRunning:t}=(0,r.useSDPPPContext)(),{ssid:i,queueSize:s}=(0,r.useAgentState)(e),{lastError:c,progress:h,executingNodeTitle:p}=(0,r.useAgentState)(e),[w,u]=(0,C.useState)(null),L=(0,C.useMemo)(()=>w=="save"?f("Save workflow to ComfyUI"):w=="refresh"?f("Reload workflow"):w=="stopAndCancel"?f("Stop and cancel all"):w=="autoRun"?t?f("Stop auto run"):f("Start auto running after change"):w=="edit"?f("Edit in ComfyUI"):w=="run"?f("Run workflow"):w=="runMulti"?f("Run workflow xN"):"",[w,f]);return(0,C.useMemo)(()=>(0,a.jsxs)("div",{className:"workflow-edit-wrap",children:[(0,a.jsx)("div",{className:"workflow-edit-top",children:(0,a.jsxs)("div",{className:"workflow-edit-controls",children:[(0,a.jsxs)("div",{className:"workflow-edit-controls-left",children:[(0,a.jsxs)("div",{className:"workflow-edit-button-line workflow-edit-button-lineone",children:[(0,a.jsxs)("div",{className:"workflow-edit-button-line-left",children:[(0,a.jsx)(oe,{onMouseEnter:()=>u("save"),onMouseLeave:()=>u(null)}),(0,a.jsx)(te,{onMouseEnter:()=>u("refresh"),onMouseLeave:()=>u(null)})]}),(0,a.jsxs)("div",{className:"workflow-edit-button-line-right",children:[(0,a.jsx)(ee,{onMouseEnter:()=>u("stopAndCancel"),onMouseLeave:()=>u(null)}),(0,a.jsx)(ne,{onMouseEnter:()=>u("autoRun"),onMouseLeave:()=>u(null)})]})]}),(0,a.jsxs)("div",{className:"workflow-edit-button-line workflow-edit-controls-linetwo",children:[(0,a.jsxs)("div",{className:"workflow-run-status",children:[c?(0,a.jsx)("sp-label",{class:"error-label",children:c}):"",!c&&!p&&t?(0,a.jsx)("sp-label",{children:f("auto run workflow after change..")}):"",!c&&!p&&L?(0,a.jsx)("sp-label",{children:L}):""]}),(0,a.jsx)(ie,{onMouseEnter:()=>u("edit"),onMouseLeave:()=>u(null)})]})]}),(0,a.jsx)("div",{className:"workflow-edit-controls-center",children:(0,a.jsx)(re,{onMouseEnter:()=>u("run"),onMouseLeave:()=>u(null)})}),(0,a.jsx)("div",{className:"workflow-edit-controls-right",children:(0,a.jsx)(se,{onMouseEnter:()=>u("runMulti"),onMouseLeave:()=>u(null)})})]})}),(0,a.jsx)("sp-divider",{}),(0,a.jsx)(o,{})]}),[i,s,w,t,c,h,p,L,o])}globalThis.sdpppX=globalThis.sdpppX||{};var ho=globalThis.sdpppX;var vo=n(v(),1);var Fo=n(v(),1),B=n(l(),1),V=class extends Fo.default.Component{render(){let e=this.props.size||1;return(0,B.jsx)("div",{slot:"icon",className:"sdppp-icon",onClick:this.props.onClick,children:(0,B.jsxs)("svg",{width:20*e,height:20*e,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,B.jsx)("path",{d:"M5.586 5.586A2 2 0 018.862 7.73a.5.5 0 10.931.365 3 3 0 10-1.697 1.697.5.5 0 10-.365-.93 2 2 0 01-2.145-3.277z",fill:"currentColor"}),(0,B.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.939 6.527c.127.128.19.297.185.464a.635.635 0 01-.185.465L0 8.395a7.099 7.099 0 001.067 2.572h1.32c.182 0 .345.076.46.197a.635.635 0 01.198.46v1.317A7.097 7.097 0 005.602 14l.94-.94a.634.634 0 01.45-.186H7.021c.163 0 .326.061.45.186l.939.938a7.098 7.098 0 002.547-1.057V11.61c0-.181.075-.344.197-.46a.634.634 0 01.46-.197h1.33c.507-.76.871-1.622 1.056-2.55l-.946-.946a.635.635 0 01-.186-.465.635.635 0 01.186-.464l.943-.944a7.099 7.099 0 00-1.044-2.522h-1.34a.635.635 0 01-.46-.197.635.635 0 01-.196-.46V1.057A7.096 7.096 0 008.413.002l-.942.942a.634.634 0 01-.45.186H6.992a.634.634 0 01-.45-.186L5.598 0a7.097 7.097 0 00-2.553 1.058v1.33c0 .182-.076.345-.197.46a.635.635 0 01-.46.198h-1.33A7.098 7.098 0 00.003 5.591l.936.936zm.707 1.636c.324-.324.482-.752.479-1.172a1.634 1.634 0 00-.48-1.171l-.538-.539c.126-.433.299-.847.513-1.235h.768c.459 0 .873-.19 1.167-.49.3-.295.49-.708.49-1.167v-.77c.39-.215.807-.388 1.243-.515l.547.547c.32.32.742.48 1.157.48l.015-.001h.014c.415 0 .836-.158 1.157-.479l.545-.544c.433.126.846.299 1.234.512v.784c0 .46.19.874.49 1.168.294.3.708.49 1.167.49h.776c.209.382.378.788.502 1.213l-.545.546a1.635 1.635 0 00-.48 1.17c-.003.421.155.849.48 1.173l.549.55c-.126.434-.3.85-.513 1.239h-.77c-.458 0-.872.19-1.166.49-.3.294-.49.708-.49 1.167v.77a6.09 6.09 0 01-1.238.514l-.54-.54a1.636 1.636 0 00-1.158-.48H6.992c-.415 0-.837.159-1.157.48l-.543.543a6.091 6.091 0 01-1.247-.516v-.756c0-.459-.19-.873-.49-1.167-.294-.3-.708-.49-1.167-.49h-.761a6.094 6.094 0 01-.523-1.262l.542-.542z",fill:"currentColor"})]})})}};var P=n(l(),1);function wo({onStart:o,onExit:e,settingsContent:t}){let[i,s]=(0,vo.useState)(!1),[c,h]=(0,vo.useState)(!1);return(0,P.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",background:"#0d0d0d",color:"#fff"},children:[(0,P.jsxs)("div",{style:{position:"absolute",top:8,right:8,padding:"6px 10px",borderRadius:10,background:"rgba(255,255,255,0.08)",display:"flex",alignItems:"center",gap:8},children:[(0,P.jsx)(V,{size:.8,onClick:()=>h(p=>!p)}),(0,P.jsx)("span",{style:{cursor:"pointer"},onClick:()=>h(p=>!p),children:"\u8BBE\u7F6E"}),(0,P.jsx)("span",{style:{marginLeft:8,cursor:"pointer"},onClick:e,children:"\u5173\u95ED\u6781\u7B80"})]}),(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,P.jsx)("button",{onClick:async()=>{if(!i){s(!0);try{await o?.()}finally{s(!1)}}},style:{padding:"14px 24px",fontSize:14,borderRadius:8,border:"1px solid #333",background:"#111",color:"#fff",cursor:"pointer"},children:i?"\u542F\u52A8\u4E2D\u2026":"\u542F\u52A8\u5DE5\u4F5C\u6D41"})}),c&&(0,P.jsxs)("div",{style:{position:"absolute",top:48,right:8,zIndex:1e3,width:"min(840px, 90vw)",height:"min(85vh, 680px)",background:"rgba(255,255,255,0.06)",backdropFilter:"blur(6px)",border:"1px solid rgba(255,255,255,0.14)",borderRadius:12,overflow:"hidden"},children:[(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid rgba(255,255,255,0.12)"},children:[(0,P.jsx)("span",{style:{fontSize:12,opacity:.8},children:"\u8BBE\u7F6E"}),(0,P.jsx)("span",{style:{cursor:"pointer"},onClick:()=>h(!1),children:"\xD7"})]}),(0,P.jsx)("div",{style:{width:"100%",height:"calc(100% - 34px)",overflow:"auto",color:"#fff"},children:t})]})]})}var d=n(l(),1);function Vo({connectState:o,AddressBar:e,WorkflowEditPhotoshop:t}){let[i,s]=(0,b.useState)(!1),[c,h]=(0,b.useState)(!1),{workflowAgentSID:p,webviewAgentSID:w,lastConnectErrorMessage:u}=(0,r.useSDPPPContext)(),{runPage:L}=(0,r.useSDPPPComfyCaller)(),k=i?1:0,[S,eo]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{p?eo(p!=w):S&&s(!1)},[p]),(0,b.useEffect)(()=>{o==="disconnected"&&s(!1)},[o]),(0,b.useEffect)(()=>{try{globalThis.sdpppX?.useMinimalStandalone&&h(!0)}catch{}},[]),c?(0,d.jsx)(wo,{onStart:()=>L(p),onExit:()=>h(!1),settingsContent:(0,d.jsxs)("div",{style:{padding:8,width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,d.jsx)("div",{style:{marginBottom:8},children:(0,d.jsx)(e,{})}),(0,d.jsx)("div",{className:"editor-card",style:k===0?{}:{display:"none"},children:(0,d.jsx)("div",{className:"comfy-list-wrap",children:(0,d.jsx)(fo,{setEditorMode:s})})}),(0,d.jsx)("div",{className:"editor-card",style:i?{}:{display:"none"},children:i&&p&&(0,d.jsx)(mo,{WorkflowEditPhotoshop:t})})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Promote,{}),(0,d.jsx)("div",{className:"header-container",children:(0,d.jsxs)("div",{className:"connect-box",children:[ho.logo?(0,d.jsx)("img",{src:ho.logo,alt:"logo",style:{width:"28px",height:"28px",cursor:"pointer",marginRight:"2px"},title:f("Back to workflow list"),onClick:()=>{s(!1)}}):i?(0,d.jsx)("sp-action-button",{onClick:()=>{s(!1)},children:"\u2190"}):(0,d.jsx)("div",{className:"status-bar "+o,children:(0,d.jsx)("div",{className:"status-icon",title:u?.toString()||f(o),children:"\u2B24"})}),(0,d.jsx)(e,{}),(0,d.jsx)("sp-action-button",{onClick:()=>h(!c),style:{marginLeft:"8px"},children:"\u6781\u7B80\u6A21\u5F0F"})]})}),u?(0,d.jsx)("div",{children:(0,d.jsx)("sp-label",{class:"error-label",children:So(u)?f(u):u})}):"",o==="connected"&&(0,d.jsxs)("div",{className:"panel-body",children:[(0,d.jsx)("div",{className:"editor-card",style:k===0?{}:{display:"none"},children:(0,d.jsx)("div",{className:"comfy-list-wrap",children:(0,d.jsx)(fo,{setEditorMode:s})})}),(0,d.jsx)("div",{className:"editor-card",style:i?{}:{display:"none"},children:i&&p&&(0,d.jsx)(mo,{WorkflowEditPhotoshop:t})})]})]})}var oo=n(v(),1),y=n(l(),1);function go(){let[o,e]=(0,oo.useState)("connecting"),[t,i]=(0,oo.useState)(()=>()=>(0,y.jsx)(y.Fragment,{})),[s,c]=(0,oo.useState)(()=>()=>(0,y.jsx)(y.Fragment,{}));return(0,y.jsx)(r.SDPPPProvider,{loginAppID:"",children:(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)("div",{style:{position:"absolute",width:0,height:0,overflow:"hidden",opacity:0,pointerEvents:"none"},children:(0,y.jsx)(r.SDPPP,{renderContent:(h,p,w)=>(e(h),i(()=>p),c(()=>w),null)})}),(0,y.jsx)(Vo,{connectState:o,AddressBar:t,WorkflowEditPhotoshop:s})]})})}var Oo=n(Ko(),1),Qo=n(l(),1);globalThis.sdppp=globalThis.sdppp||{};globalThis.sdppp.renderPhotoshopPlugin=o=>{(0,Oo.createRoot)(o).render((0,Qo.jsx)(go,{}))};})();
